(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["ChatMessages"],{

/***/ "./node_modules/babel-loader/lib/index.js?!./node_modules/vue-loader/lib/index.js?!./resources/js/components/chats/ChatMessages.vue?vue&type=script&lang=js&":
/*!*****************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib??ref--4-0!./node_modules/vue-loader/lib??vue-loader-options!./resources/js/components/chats/ChatMessages.vue?vue&type=script&lang=js& ***!
  \*****************************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
var CodeBox = function CodeBox() {
  return Promise.all(/*! import() | CodeBox */[__webpack_require__.e("vendors~AddGem~CodeBox~CodeEditor~CodeEditorChat"), __webpack_require__.e("CodeBox?v=0.53"), __webpack_require__.e("CodeBox")]).then(__webpack_require__.bind(null, /*! ./CodeBox.vue */ "./resources/js/components/chats/CodeBox.vue"));
};

var VideoPlayer = function VideoPlayer() {
  return Promise.all(/*! import() | VideoPlayer */[__webpack_require__.e("vendors~VideoPlayer"), __webpack_require__.e("VideoPlayer")]).then(__webpack_require__.bind(null, /*! ./VideoPlayer.vue */ "./resources/js/components/chats/VideoPlayer.vue"));
};

var AudioPlayer = function AudioPlayer() {
  return __webpack_require__.e(/*! import() | AudioPlayer */ "AudioPlayer").then(__webpack_require__.bind(null, /*! ./AudioPlayer.vue */ "./resources/js/components/chats/AudioPlayer.vue"));
};

var Images = function Images() {
  return __webpack_require__.e(/*! import() | Images */ "Images").then(__webpack_require__.bind(null, /*! ./Images.vue */ "./resources/js/components/chats/Images.vue"));
};

var _require = __webpack_require__(/*! html-to-text */ "./node_modules/html-to-text/index.js"),
    htmlToText = _require.htmlToText;

/* harmony default export */ __webpack_exports__["default"] = ({
  props: ['source', 'username'],
  data: function data() {
    return {
      that: this,
      viewerType: '',
      loading: false,
      clicks: 0,
      delay: 400,
      timer: '',
      showMenu: true,
      items: [{
        title: 'Click Me'
      }, {
        title: 'Click Me'
      }, {
        title: 'Click Me'
      }, {
        title: 'Click Me 2'
      }]
    };
  },
  mounted: function mounted() {},
  components: {
    CodeBox: CodeBox,
    VideoPlayer: VideoPlayer,
    AudioPlayer: AudioPlayer,
    Images: Images
  },
  methods: {
    handelMessageContent: function handelMessageContent(message) {
      return this.shortenContent(message.content, 200);
    },
    checkIfAdmin: function checkIfAdmin(source) {
      var userMemberData = this.$root.selectedSpaceMembers.filter(function (members) {
        return members.user_id == source.user_id && members.is_admin;
      });

      if (userMemberData.length != 0) {
        return true;
      } else {
        return false;
      }
    },
    goToProject: function goToProject(message) {
      this.$router.push({
        path: '/board/projects/panel/' + message.project.project_slug
      });
    },
    showFullMsg: function showFullMsg(message) {
      document.getElementById('moreContentbtn' + message.message_id).style.visibility = 'hidden';
      document.getElementById('shortContent' + message.message_id).style.display = 'none';
      document.getElementById('fullContent' + message.message_id).style.display = 'inline-block';
    },
    imageStyle: function imageStyle(dimension, data, type) {
      if (data.background_color == null) {
        var styleString = "border-radius:50%;height:" + dimension + "px;width:" + dimension + "px;background-size:contain;border:1px solid #c5c5c5;";
        styleString += 'background-color:#ffffff; background-image:url(imgs/profile.png);';
        return styleString;
      } else {
        var _styleString = "border-radius:50%;height:" + dimension + "px;width:" + dimension + "px;background-size:contain;border:1px solid #c5c5c5; ";

        var imgLink = data.image_name + '.' + data.image_extension;

        if (type == 'bot') {
          _styleString += 'background-color:' + data.background_color + '; background-image:url(/imgs/space/' + imgLink + ');';
        } else {
          _styleString += 'background-color:' + data.background_color + '; background-image:url(/imgs/profile/' + imgLink + ');';
        }

        return _styleString;
      }
    },
    getReplyMsg: function getReplyMsg(replymessage) {
      var finalString = '';
      var message = replymessage;

      if (message.type == null || message.type == 'action') {
        finalString = htmlToText(message.content, {
          wordwrap: 100
        });
      }

      if (message.type == 'image') {
        finalString = 'sent an image';
      }

      if (message.type == 'join') {
        finalString = 'joined';
      }

      if (message.type == 'code') {
        finalString = 'shared a code';
      }

      if (message.type == 'video') {
        finalString = 'sent a video';
      }

      if (message.type == 'audio') {
        finalString = 'sent an audio';
      }

      if (message.type == 'project') {
        finalString = 'share a project';
      }

      return finalString;
    },
    checkIfMsgIsLong: function checkIfMsgIsLong(message) {
      var messageString = htmlToText(message.content, {
        wordwrap: null
      });

      if (messageString.length > 300) {
        return true;
      } else {
        return false;
      }
    },
    createSpace: function createSpace(member) {
      var _this = this;

      this.$root.showUserInfo = true;
      this.$root.selectedMember = member;
      axios.get('/fetch-user-info/' + member.username).then(function (response) {
        if (response.status == 200) {
          _this.$root.userBasicInfo = response.data[0];
        }
      })["catch"](function (error) {
        _this.$root.infoLoaderText = 'unable to load user info';
      });
    },
    handleAction: function handleAction(message) {
      if (message.action.type == 'custom') {
        this.$router.push({
          path: '/space/' + this.$route.params.spaceId + '/channel/board'
        });
      }

      if (message.action.type == 'inner') {
        window.location = '/trends#/trends/connect';
      }
    },
    handleResults: function handleResults(messageArray) {
      this.$root.returnedMessages = messageArray;
      var MsgLenght = messageArray.length;
      var startCount = MsgLenght - this.$root.messageInitialLimit;

      if (startCount <= 0) {
        startCount = 0;
      }

      var sliedMsg = this.$root.returnedMessages.slice(startCount, MsgLenght);
      this.$root.messageStoreTop = this.$root.returnedMessages.slice(0, startCount);
      var finalMessage = sliedMsg;
      return finalMessage;
    },
    generateUnreadMessage: function generateUnreadMessage() {
      if (this.$root.selectedSpace.unread != 0 && this.$root.selectedSpace.unread != undefined) {
        var newUnreadMsg = {
          content: 'You have ' + this.$root.selectedSpace.unread + ' unread messages',
          created_at: moment().subtract(1, 'hours'),
          message_id: this.makeUUID(),
          type: 'unread'
        };
        var msgCount = this.$root.Messages.length;
        var msgIndex = msgCount - this.$root.selectedSpace.unread;
        this.$root.Messages.splice(msgIndex, 0, newUnreadMsg);
        this.$root.selectedSpace.unread = 0;
      }
    },
    showProject: function showProject(projectSlug) {
      this.$router.push({
        path: '/' + projectSlug + '/panel'
      });
    },
    downloader: function downloader(message) {
      window.url = '/download-file-' + message.message_id;
    },
    scrollToMessage: function scrollToMessage(messageid) {
      var _this2 = this;

      this.$root.Messages.map(function (message) {
        if (message.message_id == messageid) {
          message.tagged = true;
        }
      });
      setTimeout(function () {
        _this2.$root.Messages.map(function (message) {
          if (message.message_id == messageid) {
            message.tagged = false;
          }
        });
      }, 2000);
      setTimeout(function () {
        var messageData = _this2.$root.Messages.filter(function (message) {
          return message.message_id == messageid;
        });

        var msgIndex = messageData[0].index_count;

        _this2.$root.msgScrollComponent.messageContainer.scrollToItem(msgIndex - 2);
      }, 200);
    },
    showMoreHandler: function showMoreHandler(message) {
      this.clicks++;

      if (this.clicks === 1) {
        var self = this;
        this.timer = setTimeout(function () {
          if (message.tagged == false) {
            if (message.showReply) {
              message.showReply = false;
            } else {
              self.$root.Messages.map(function (message) {
                message.showReply = false;
              });
              message.showReply = true;
            }
          }

          message.tagged = false;
          self.clicks = 0;
        }, this.delay);
        this.$root.showMsgDelete = false;
      } else {
        clearTimeout(this.timer);

        if (this.checkOwner(message.user_id)) {
          message.showReply = false;
          message.tagged = true;
          this.$root.messageIdToDelete = message.message_id;
          this.$root.showMsgDelete = true;
        }

        this.clicks = 0;
      }
    },
    replyMsg: function replyMsg(message) {
      this.$root.replyMessage = message;
      this.$root.is_reply = true;
      this.$root.showRootReply = true;
      message.showReply = false;
      this.$root.bottomEditorValue.focus();
    },
    checkOwner: function checkOwner(message_user_id) {
      if (this.$root.user_temp_id == message_user_id) {
        return true;
      } else {
        return false;
      }
    },
    shortenContent: function shortenContent(content, limit) {
      if (content.length > limit) {
        var shortcontent = content.slice(0, limit);
        return shortcontent + '...';
      } else {
        return content;
      }
    },
    checkDatereal: function checkDatereal(date) {
      var realTimeHour = moment(date).add(1, 'hours');
      var aWeekAgo = moment().subtract(7, 'days');

      if (moment(realTimeHour) >= aWeekAgo) {
        return moment(realTimeHour).format("h:mm a");
      } else {
        return moment(realTimeHour).format("h:mm a");
      }
    },
    covertDate: function covertDate(date) {
      var realTimeHour = moment(date).format('l');

      if (moment().format('l') == realTimeHour) {
        return 'Today';
      }

      if (moment().subtract(1, 'days').format('l') == realTimeHour) {
        return 'Yesterday';
      }

      return moment(realTimeHour).format("MMMM Do");
    },
    languageExtensions: function languageExtensions(language) {
      if (language == 'HTML') {
        return 'html';
      }

      if (language == 'CSS') {
        return 'css';
      }

      if (language == 'PYTHON(3.8.1)') {
        return 'py';
      }

      if (language == 'PYTHON For ML(3.7.7)') {
        return 'py';
      }

      if (language == 'PYTHON(2.7.17)') {
        return 'py';
      }

      if (language == 'PHP') {
        return 'php';
      }

      if (language == 'JAVASCRIPT(Node)') {
        return 'js';
      }

      if (language == 'SQL') {
        return 'sql';
      }

      if (language == 'C') {
        return 'c';
      }

      if (language == 'C++') {
        return 'cpp';
      }

      if (language == 'JAVA') {
        return 'java';
      }

      if (language == 'C#') {
        return 'cs';
      }

      if (language == 'ERLANG') {
        return 'erl';
      }

      if (language == 'KOTLIN') {
        return 'kt';
      }

      if (language == 'FOTRAN') {
        return 'for';
      }

      if (language == 'PERL') {
        return 'pl';
      }

      if (language == 'R') {
        return 'r';
      }

      if (language == 'GO') {
        return 'go';
      }

      if (language == 'HASKELL') {
        return 'hs';
      }

      if (language == 'RUBY') {
        return 'rb';
      }

      if (language == 'LUA') {
        return 'lua';
      }

      if (language == 'PASCAL') {
        return 'pas';
      }

      if (language == 'RUST') {
        return 'rs';
      }

      if (language == 'SCALA') {
        return 'scala';
      }

      if (language == 'SWIFT') {
        return 'swift';
      }

      if (language == 'TYPESCRIPT') {
        return 'ts';
      }
    }
  }
});

/***/ }),

/***/ "./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/vue-loader/lib/index.js?!./resources/js/components/chats/ChatMessages.vue?vue&type=template&id=f257383a&scoped=true&":
/*!*********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib??vue-loader-options!./resources/js/components/chats/ChatMessages.vue?vue&type=template&id=f257383a&scoped=true& ***!
  \*********************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
var render = function () {}
var staticRenderFns = []



/***/ }),

/***/ "./resources/js/components/chats/ChatMessages.vue":
/*!********************************************************!*\
  !*** ./resources/js/components/chats/ChatMessages.vue ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _ChatMessages_vue_vue_type_template_id_f257383a_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ChatMessages.vue?vue&type=template&id=f257383a&scoped=true& */ "./resources/js/components/chats/ChatMessages.vue?vue&type=template&id=f257383a&scoped=true&");
/* harmony import */ var _ChatMessages_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ChatMessages.vue?vue&type=script&lang=js& */ "./resources/js/components/chats/ChatMessages.vue?vue&type=script&lang=js&");
/* empty/unused harmony star reexport *//* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ "./node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */

var component = Object(_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _ChatMessages_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _ChatMessages_vue_vue_type_template_id_f257383a_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"],
  _ChatMessages_vue_vue_type_template_id_f257383a_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  "f257383a",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "resources/js/components/chats/ChatMessages.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ "./resources/js/components/chats/ChatMessages.vue?vue&type=script&lang=js&":
/*!*********************************************************************************!*\
  !*** ./resources/js/components/chats/ChatMessages.vue?vue&type=script&lang=js& ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_babel_loader_lib_index_js_ref_4_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ChatMessages_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/babel-loader/lib??ref--4-0!../../../../node_modules/vue-loader/lib??vue-loader-options!./ChatMessages.vue?vue&type=script&lang=js& */ "./node_modules/babel-loader/lib/index.js?!./node_modules/vue-loader/lib/index.js?!./resources/js/components/chats/ChatMessages.vue?vue&type=script&lang=js&");
/* empty/unused harmony star reexport */ /* harmony default export */ __webpack_exports__["default"] = (_node_modules_babel_loader_lib_index_js_ref_4_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ChatMessages_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "./resources/js/components/chats/ChatMessages.vue?vue&type=template&id=f257383a&scoped=true&":
/*!***************************************************************************************************!*\
  !*** ./resources/js/components/chats/ChatMessages.vue?vue&type=template&id=f257383a&scoped=true& ***!
  \***************************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ChatMessages_vue_vue_type_template_id_f257383a_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/vue-loader/lib??vue-loader-options!./ChatMessages.vue?vue&type=template&id=f257383a&scoped=true& */ "./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/vue-loader/lib/index.js?!./resources/js/components/chats/ChatMessages.vue?vue&type=template&id=f257383a&scoped=true&");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ChatMessages_vue_vue_type_template_id_f257383a_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_ChatMessages_vue_vue_type_template_id_f257383a_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });



/***/ }),

/***/ 3:
/*!**********************************!*\
  !*** ./WritableStream (ignored) ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ })

}]);
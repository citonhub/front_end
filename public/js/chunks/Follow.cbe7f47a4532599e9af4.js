(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{350:function(t,i,e){var o=e(573);"string"==typeof o&&(o=[[t.i,o,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};e(25)(o,s);o.locals&&(t.exports=o.locals)},572:function(t,i,e){"use strict";var o=e(350);e.n(o).a},573:function(t,i,e){(t.exports=e(24)(!1)).push([t.i,"\n.scroller[data-v-d50de944]::-webkit-scrollbar {\n  width: 5px;\n}\n.scroller[data-v-d50de944]::-webkit-scrollbar-thumb {\n  background-color: #3C87CD;\n  outline: 1px solid #3C87CD;\n}\n",""])},683:function(t,i,e){"use strict";e.r(i);var o={mounted:function(){this.getInterests(),this.$root.followDiariesLoaded=!0},data:function(){return{diaries:[],that:this,loading:!1,selectedDiaries:[],loadingButton:!1}},methods:{openChatList:function(){this.$router.push({path:"/channels"})},skip:function(){this.$root.chatComponent.suggestionsContent="notification",this.updateUserProfile()},canProceed:function(){return 0==this.diaries.length||!(this.diaries.filter((function(t){return 1==t.following})).length>=3)},updateUserProfile:function(){this.$root.authProfile.suggested_diary=!0,axios.post("/update-diary-suggestions").then((function(t){t.status}))},addDairies:function(){var t=this;this.updateUserProfile(),this.loadingButton=!0,this.selectedDiaries.forEach((function(i){setTimeout((function(){t.checkDiary(i)}),1e3)})),this.$root.chatComponent.suggestionsContent="notification"},followDiary:function(t){t.following=!0,this.selectedDiaries.push(t.bot_id),this.diaries.map((function(i){t.bot_id==i.bot_id&&(i.following=!0)}))},checkDiary:function(t){var i=this;axios.get("/check-diary/"+t).then((function(t){if(200==t.status){t.data.space;i.$root.getLocalStore("user_chat_list"+i.$root.username).then((function(e){if(null!=e){var o=JSON.parse(e);if(o.pet_spaces.filter((function(i){return i.space_id==t.data.space.space_id})).length>0);else{o.pet_spaces.unshift(t.data.space),i.$root.LocalStore("user_chat_list"+i.$root.username,o);var s=o.channels.concat(o.direct_messages,o.pet_spaces);i.$root.ChatList=s,i.$root.sortChatList()}}}))}})).catch((function(t){i.$root.chatComponent.showAlert("Oops!","Something went wrong, please try again","error")}))},imageStyle:function(t,i){if(null==i.background_color){var e="border-radius:10px;height:"+t+"px;width:"+t+"px;background-size:contain;border:1px solid #c5c5c5;";return e+="background-color:#ffffff; background-image:url(imgs/channel.png);"}var o="border-radius:10px;height:"+t+"px;width:"+t+"px;background-size:contain;border:1px solid #c5c5c5;",s=i.image_name+"."+i.image_extension;return o+="background-color:"+i.background_color+"; background-image:url(/imgs/space/thumbnails/"+s+");"},getInterests:function(){var t=this;this.loading=!0,axios.post("/save-user-interest").then((function(i){200==i.status?(t.diaries=i.data.suggested_diaries,t.diaries.map((function(t){t.following=!1})),t.diaries.sort((function(t,i){return i.followers-t.followers})),t.loading=!1):t.$root.chatComponent.showAlert("Oops!","Something went wrong, please try again","error")}))}}},s=(e(572),e(5)),n=Object(s.a)(o,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-card",{staticClass:"col-lg-5  py-0 col-md-8 px-0",staticStyle:{height:"90%","overflow-y":"hidden","overflow-x":"hidden"}},[e("div",{staticClass:"text-center col-12 py-1 py-md-2 pt-2 fixed-top",staticStyle:{position:"sticky",background:"whitesmoke"}},[e("h5",{staticClass:"text-center d-md-block d-none"},[t._v("Follow diaries of your interest")]),t._v(" "),e("h6",{staticClass:" text-center d-block d-md-none"},[t._v("Follow diaries of your interest")])]),t._v(" "),t.loading?[e("div",{staticClass:"d-flex",staticStyle:{position:"absolute",height:"100%",width:"100%","align-items":"center","justify-content":"center"}},[e("v-progress-circular",{attrs:{color:"#3C87CD",indeterminate:"",width:"3",size:"28"}})],1)]:[e("div",{staticClass:"scroller",staticStyle:{position:"absolute",width:"100%",height:"96%","overflow-y":"auto","overflow-x":"hidden","padding-bottom":"100px"}},t._l(this.diaries,(function(i,o){return e("div",{key:o,staticClass:"col-12 px-1 pl-2 d-flex flex-row py-1",staticStyle:{"align-items":"center",height:"auto","justify-content":"center"}},[e("div",{staticClass:" mr-2 py-3",style:t.imageStyle(45,i)}),t._v(" "),e("div",{staticClass:"px-0 py-3",staticStyle:{width:"85%","border-bottom":"1px solid #e6e6e6"}},[e("div",{staticClass:"d-flex flex-row flex-wrap",staticStyle:{"align-items":"center"}},[e("div",{staticClass:"px-0 py-0 my-0 col-12",staticStyle:{"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}},[e("span",{staticStyle:{"font-size":"14px","font-family":"BodyFont"}},[t._v(t._s(i.name))])]),t._v(" "),e("div",{staticClass:" d-flex flex-row ",staticStyle:{"align-items":"center",width:"100%"}},[e("div",{staticClass:" px-0 py-0 my-0 pr-1  ",staticStyle:{width:"100%","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis","font-size":"13px",color:"grey","font-family":"BodyFont"}},[e("span",[t._v(t._s(i.description))])]),t._v(" "),e("div",{staticClass:" px-1 py-0  ml-auto "},[1==i.following?e("v-btn",{staticClass:"mx-2 d-inline-block",staticStyle:{"text-transform":"capitalize","font-family":"BodyFont","font-size":"12px"},attrs:{"x-small":"",disabled:!0,rounded:""}},[t._v("following")]):e("v-btn",{staticClass:"mx-2 d-inline-block",staticStyle:{"text-transform":"capitalize","font-family":"BodyFont","font-size":"12px"},attrs:{"x-small":"",outlined:"",color:"#3C87CD",rounded:""},on:{click:function(e){return t.followDiary(i)}}},[t._v("follow")])],1)])])])])})),0)],t._v(" "),e("div",{staticClass:"text-center py-1 py-md-2 col-12 fixed-bottom",staticStyle:{position:"absolute",background:"whitesmoke"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 py-1 text-right"},[e("v-btn",{staticClass:"mx-2 d-inline-block",staticStyle:{"text-transform":"normal","font-family":"BodyFont","font-size":"11px"},attrs:{small:"",text:""},on:{click:function(i){return t.skip()}}},[t._v("Skip")]),t._v(" "),e("v-btn",{staticClass:"mx-2 d-inline-block",staticStyle:{color:"white","text-transform":"normal","font-family":"BodyFont","font-size":"11px"},attrs:{small:"",loading:t.loadingButton,color:"#3C87CD",disabled:t.selectedDiaries.length<3},on:{click:t.addDairies}},[t._v("Done")])],1)])])],2)}),[],!1,null,"d50de944",null);i.default=n.exports}}]);
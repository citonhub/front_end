(window.webpackJsonp=window.webpackJsonp||[]).push([[101],{723:function(t,e,o){"use strict";o.r(e);o(249);var s={data:function(){return{that:this,placeholder:"",searchQuery:"",searchResult:[],loadingSearch:!1,loadingNext:!1,devToTags:[],nextPageToken:"",showSuggestion:!1,selectedItems:[],allTagStore:[],queryContent:"",devToPageCount:1,loading:!1,searchType:"tags",searchFilter:[{name:"by tags",value:"tags"},{name:"by username",value:"username"}]}},components:{Resource:function(){return Promise.all([o.e(10),o.e(98)]).then(o.bind(null,748))}},mounted:function(){this.$root.fromTemplateView&&(this.$root.selectedResource=this.$root.formerselectedResource),this.$root.componentIsLoading=!1,this.$root.searchResourceComponent=this,this.alterSearch(),this.$root.showAddButton=!1,this.$root.resourcesSearchComponent=this,this.$root.selectedItem=[]},methods:{alterSearch:function(){this.placeholder="Search "+this.$root.resourceSearchType,"youtube"!=this.$root.resourceSearchType&&"devto"!=this.$root.resourceSearchType||(this.searchQuery=this.$root.selectedResource.name,this.searchSite())},selectTag:function(t){this.showSuggestion=!0,0==this.searchQuery.length&&(this.searchQuery=[]),this.searchQuery=t.name,this.showSuggestion=!1},AddItemsToResources:function(){var t=this,e="";"devto"==this.$root.resourceSearchType&&(e="devto_article"),"youtube"==this.$root.resourceSearchType&&(e="youtube_video"),this.loading=!0,axios.post("/add-items-to-resource",{resource_id:this.$root.selectedResource.resource_id,type:e,items:this.$root.selectedItems}).then((function(e){200==e.status&&(t.loading=!1,t.$root.forcereloadResource=!0,"playlist"==t.$root.selectedResource.type?t.$root.chatComponent.showAlert("Added!","video added to playlist","success","bottomRight",3e3):t.$root.chatComponent.showAlert("Added!","resource has been added","success","bottomRight",3e3),t.goBack())})).catch((function(e){t.loading=!1}))},searchTags:function(t){var e=this;"Backspace"!=t.key?13==t.keyCode?(this.showSuggestion=!1,this.queryContent="",this.devToTags=this.allTagStore):1==t.key.length&&(this.queryContent+=t.key,this.showSuggestion=!0):this.queryContent=this.queryContent.slice(0,-1);var o=this.allTagStore.filter((function(t){return t.name.toLowerCase().includes(e.queryContent.toLowerCase())}));this.devToTags=o},goBack:function(){window.history.length>1?this.$router.go(-1):this.$router.push("/")},loadNextSet:function(t){t&&this.$root.searchResult.length>0&&this.loadNextResult()},fetchDevToTags:function(){var t=this;axios.get("/devto-tags").then((function(e){200==e.status&&(t.devToTags=e.data.tags,t.allTagStore=e.data.tags)})).catch((function(t){}))},loadNextResult:function(){var t=this;if(!this.loadingNext&&(this.loadingNext=!0,"youtube"==this.$root.resourceSearchType&&axios.get("/search-youtube/".concat(this.searchQuery,"/").concat(this.nextPageToken)).then((function(e){if(200==e.status){var o=e.data.result;t.nextPageToken=e.data.nextPageToken;var s=[];o.forEach((function(t){var e={content:t,type:"youtube_video"};s.push(e)})),t.$root.searchResult=t.$root.searchResult.concat(s),t.loadingNext=!1}})).catch((function(e){t.loadingNext=!1})),"devto"==this.$root.resourceSearchType)){if(""==this.searchQuery)return;var e=this.searchQuery.toLowerCase().split(" ");this.devToPageCount++,axios.get("/search-devto/".concat(JSON.stringify(e),"/").concat(this.devToPageCount,"/").concat(this.devToPageCount)).then((function(e){if(200==e.status){var o=e.data.articles,s=[];o.forEach((function(t){var e={content:t,type:"devto_article"};s.push(e)})),t.$root.searchResult=t.$root.searchResult.concat(s),t.loadingNext=!1}})).catch((function(e){t.loadingNext=!1}))}},searchSite:function(){var t=this;if(!this.$root.loadingSearch){if(this.$root.searchResult=[],this.$root.loadingSearch=!0,"youtube"==this.$root.resourceSearchType&&axios.get("/search-youtube/".concat(this.searchQuery)).then((function(e){if(200==e.status){var o=e.data.result;t.nextPageToken=e.data.nextPageToken;var s=[];o.forEach((function(t){var e={content:t,type:"youtube_video"};s.push(e)})),t.$root.searchResult=s,t.$root.loadingSearch=!1}})).catch((function(e){t.$root.loadingSearch=!1})),"devto"==this.$root.resourceSearchType){if(""==this.searchQuery)return;var e=this.searchQuery.toLowerCase().split(" ");this.devToPageCount=1,axios.get("/search-devto/".concat(JSON.stringify(e),"/1/").concat(this.searchType)).then((function(e){if(200==e.status){var o=e.data.articles,s=[];o.forEach((function(t){var e={content:t,type:"devto_article"};s.push(e)})),t.$root.searchResult=s,t.$root.loadingSearch=!1}})).catch((function(e){t.$root.loadingSearch=!1}))}"udemy"==this.$root.resourceSearchType&&"udemy"==this.$root.resourceSearchType&&axios.get("/search-udemy/".concat(this.searchQuery)).then((function(e){200==e.status&&(console.log(e.data),t.$root.loadingSearch=!1)})).catch((function(e){t.$root.loadingSearch=!1}))}}}},a=o(4),r=Object(a.a)(s,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticStyle:{background:"transparent"}},[o("div",{staticClass:"col-12 py-0 my-0 "},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 px-1 py-2  fixed-top d-flex flex-row flex-wrap",staticStyle:{position:"sticky",background:"white",top:"0%","align-items":"center"}},[o("div",{staticClass:"col-12 py-0 px-0 d-flex flex-row"},[o("div",{staticClass:" mr-1 py-0"},[o("v-btn",{attrs:{icon:""},on:{click:function(e){return e.stopPropagation(),t.goBack(e)}}},[o("v-icon",[t._v("las la-arrow-left")])],1)],1),t._v(" "),o("div",{staticClass:" py-0 text-center d-flex flex-row",staticStyle:{width:"100%","align-items":"center"}},["devto"!=this.$root.resourceSearchType?[o("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],staticClass:"py-2 px-3",staticStyle:{width:"100%",heigth:"100%","font-size":"13px",background:"whitesmoke","border-radius":"13px","font-family":"BodyFont"},attrs:{placeholder:t.placeholder,type:"search",autofocus:""},domProps:{value:t.searchQuery},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchSite()},input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}})]:[o("div",{staticClass:" px-0 py-0",staticStyle:{height:"43px",width:"100%"}},[o("v-text-field",{staticClass:"mb-0",staticStyle:{"font-size":"13px"},attrs:{placeholder:"Search DevTo",chips:"",outlined:"",dense:"",color:"#3C87CD"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchSite()}},model:{value:t.searchQuery,callback:function(e){t.searchQuery=e},expression:"searchQuery"}}),t._v(" "),t.showSuggestion?[o("v-card",{staticClass:"d-flex flex-column px-1 py-2",staticStyle:{position:"absolute","border-radius":"0px",top:"95%",width:"100%","max-height":"250px","z-index":"99999999999999",left:"0px",height:"auto","overflow-y":"auto"}},t._l(t.devToTags,(function(e){return o("v-card",{key:e.id,staticClass:"px-1 py-2 d-flex flex-row",staticStyle:{"border-bottom":"1px solid #c5c5c5","align-items":"center"},attrs:{tile:"",flat:""},on:{click:function(o){return t.selectTag(e)}}},[o("div",{staticStyle:{"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}},[o("span",{staticClass:"mr-1",staticStyle:{"font-size":"13px","font-family":"BodyFont"}},[t._v(t._s(e.name))])])])})),1)]:t._e()],2),t._v(" "),o("div",{staticClass:"col-3 px-0 py-0 ml-1"},[o("select",{directives:[{name:"model",rawName:"v-model",value:t.searchType,expression:"searchType"}],staticClass:"py-2 px-2",staticStyle:{border:"1px solid grey",width:"100%","border-radius":"2px","font-family":"BodyFont","font-size":"13px",background:"white"},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.searchType=e.target.multiple?o:o[0]}}},t._l(t.searchFilter,(function(e,s){return o("option",{key:s+"type",domProps:{value:e.value}},[t._v(t._s(e.name))])})),0)])]],2),t._v(" "),o("div",{staticClass:" py-0 ml-1 text-right"},[o("v-btn",{attrs:{icon:"",loading:t.that.$root.loadingSearch},on:{click:t.searchSite}},[o("v-icon",[t._v("las la-search")])],1)],1)]),t._v(" "),o("div",{staticClass:"col-12  py-1 d-flex flex-row px-0 mt-1",staticStyle:{"align-items":"center","justify-content":"center"}},["playlist"==t.that.$root.selectedResource.type?[o("div",{staticClass:"mt-1 text-center",staticStyle:{"font-family":"BodyFont","font-size":"13px",color:"grey"}},[t._v('Add videos to "'+t._s(t.that.$root.selectedResource.name)+'" playlist')])]:[o("div",{staticClass:"mt-1 text-center",staticStyle:{"font-family":"BodyFont","font-size":"13px",color:"grey"}},[t._v('Add articles to "'+t._s(t.that.$root.selectedResource.name)+'" resource')])],t._v(" "),o("v-btn",{staticClass:"ml-2",staticStyle:{"font-size":"11px","text-transform":"none","font-weight":"bolder",color:"white","font-family":"BodyFont"},attrs:{rounded:"",small:"",loading:t.loading,disabled:0==t.that.$root.selectedItems.length,color:"#3C87CD"},on:{click:function(e){return t.AddItemsToResources()}}},[t._v("Add ")])],2)]),t._v(" "),o("div",{staticClass:"col-12 py-0 my-0 px-1 px-md-2",staticStyle:{background:"transparent","font-family":"BodyFont"}},[o("resource",{attrs:{show_add_icon:!0,contents:t.that.$root.searchResult}}),t._v(" "),o("div",{staticClass:"text-center col-lg-12"},[t.loadingNext?o("v-progress-circular",{attrs:{indeterminate:"",color:"#3C87CD"}}):t._e(),t._v(" "),o("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.loadNextSet,expression:"loadNextSet"}]})],1)],1)])])])}),[],!1,null,"29eae935",null);e.default=r.exports}}]);
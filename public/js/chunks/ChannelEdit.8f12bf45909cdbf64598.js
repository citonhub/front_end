(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{444:function(t,e,a){"use strict";a.r(e);var s={data:function(){return{imagepath:"",Alert:!1,loading:!1,alertMsg:"",wordLimit:200,spaceName:this.$root.selectedSpace.name,Rule:[function(t){return!!t||"Name is required"},function(t){return t.length<80||"Name must be less than 80 characters"}],DescriptionRule:[function(t){return!!t||"Description is required"},function(t){return t.length<300||"Description must be less than 300 characters"}],wordCount:0,mycontent:"",editFeild:!1,progressvalue:0,contentInWord:""}},components:{},mounted:function(){},methods:{goBack:function(){window.history.length>1?this.$router.go(-1):this.$router.push("/")},fetchMessages:function(){var t=this;axios.get("/fetch-space-messages-"+this.$route.params.spaceId).then((function(e){200==e.status&&(t.$root.selectedSpace=e.data[1])})).catch((function(t){}))},focusedText:function(){},crophandler:function(t){var e=this,a=t.target;if(a.files&&a.files[0]){var s=new FileReader;s.onload=function(t){e.$root.imagepath=t.target.result,e.imagepath=t.target.result},s.readAsDataURL(a.files[0]),this.$router.push({path:"/crop-image"})}},b64toBlob:function(t,e,a){e=e||"",a=a||512;for(var s=atob(t),o=[],i=0;i<s.length;i+=a){for(var n=s.slice(i,i+a),r=new Array(n.length),c=0;c<n.length;c++)r[c]=n.charCodeAt(c);var l=new Uint8Array(r);o.push(l)}return new Blob(o,{type:e})},showAlert:function(t,e){this.Alert=!0,this.alertMsg=e;var a=this;setTimeout((function(){a.Alert=!1}),t)},handleBlob:function(t){var e=t.split(";"),a=e[0].split(":")[1],s=a.slice(6),o=e[1].split(",")[1];return[this.b64toBlob(o,a),s]},saveChanges:function(){var t=this;this.loading=!0;var e=new FormData;if(""!=this.$root.croppedImage){var a=this.handleBlob(this.$root.croppedImage);e.append("image",a[0]),e.append("image_ext",a[1])}e.append("name",this.spaceName),e.append("description",this.contentInWord),e.append("space_id",this.$route.params.spaceId),axios.post("/update-space",e,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(t){this.progressvalue=parseInt(Math.round(t.loaded/t.total*100))}.bind(this)}).then((function(e){200==e.status&&(t.loading=!1,t.$root.croppedImage="",t.$root.reloadSpaceInfo=!0,t.goBack())})).catch((function(e){t.showAlert(5e3,"Failed- "+e),t.loading=!1}))}}},o=a(2),i=Object(o.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticStyle:{background:"transparent"}},[a("div",{staticClass:"col-12 py-1 my-0 "},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 px-1 py-1 pt-0 fixed-top d-flex flex-row",staticStyle:{position:"sticky",background:"white",top:"0%","border-bottom":"2px solid #c5c5c5","align-items":"center"}},[a("div",{staticClass:" mr-1 col-2 py-0"},[a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("las la-arrow-left")])],1)],1),t._v(" "),a("div",{staticClass:"col-8 py-0"},[a("span",{staticStyle:{"font-size":"14px","font-family":"MediumFont"}},[t._v("Edit Channel")])]),t._v(" "),a("div",{staticClass:"col-2 py-0 mr-1 text-right"})]),t._v(" "),a("div",{staticClass:"col-12 py-1 my-0"},[a("v-form",{staticClass:"row my-2 py-2 px-2 ",staticStyle:{"font-family":"BodyFont"}},[a("div",{staticClass:"col-12 py-2 my-0 px-2"},[a("div",[a("span",{staticStyle:{"font-size":"13px"}},[t._v(" "+t._s(t.$t("space.space_image")))])]),t._v(" "),a("v-row",[a("v-col",{staticClass:"col-12 d-flex",staticStyle:{"align-items":"center","justify-content":"center"}},[a("v-sheet",{staticClass:"py-0 px-0 sheetbackImg mx-auto",style:"background-image:url("+this.$root.croppedImage+");border-radius:50%;cursor:pointer;background-size:contain;",attrs:{elevation:"0",height:"104",width:"104",color:"whitesmoke"}},[a("input",{ref:"settingsimage",staticStyle:{opacity:"0",width:"100%",height:"100%",overflow:"hidden",position:"absolute","z-index":"10"},attrs:{type:"file",id:"settingsimage",accept:"image/x-png,image/jpeg,image/jpg"},on:{change:t.crophandler}}),t._v(" "),a("v-sheet",{staticClass:"py-auto px-auto d-flex",staticStyle:{"border-radius":"50%"},attrs:{elevation:"0",height:"100%",width:"100%",color:"rgba(15, 33, 36, 0.3)"}},[a("v-icon",{staticClass:"mx-auto white-text"},[t._v("mdi-camera-plus")])],1)],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"col-12 py-2 my-0 px-2"},[a("v-text-field",{staticStyle:{"font-size":"13px"},attrs:{placeholder:t.$t("general.Name")+"...",label:t.$t("general.Name"),rules:t.Rule,counter:"80",dense:"",color:"#3C87CD"},model:{value:t.spaceName,callback:function(e){t.spaceName=e},expression:"spaceName"}})],1),t._v(" "),a("div",{staticClass:"col-12 py-2 my-0 px-2"},[a("v-textarea",{staticStyle:{"font-size":"13px"},attrs:{label:t.$t("general.description"),dense:"",placeholder:t.$t("general.description")+"...",rules:t.DescriptionRule,counter:"300",color:"#3C87CD"},model:{value:t.contentInWord,callback:function(e){t.contentInWord=e},expression:"contentInWord"}})],1),t._v(" "),a("div",{staticClass:"col-12 py-2 my-0 px-2 text-center"},[a("v-btn",{staticStyle:{"font-size":"11px","font-weight":"bolder",color:"white","font-family":"MediumFont"},attrs:{rounded:"",small:"",loading:t.loading,color:"#3C87CD"},on:{click:t.saveChanges}},[t._v(t._s(t.$t("general.save")))])],1)])],1)])])])}),[],!1,null,"6194e44a",null);e.default=i.exports}}]);
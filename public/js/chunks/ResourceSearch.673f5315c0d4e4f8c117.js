(window.webpackJsonp=window.webpackJsonp||[]).push([[100],{720:function(t,e,o){"use strict";o.r(e);o(249);var s={data:function(){return{that:this,placeholder:"",searchQuery:"",searchResult:[],loadingSearch:!1,loadingNext:!1,devToTags:[],nextPageToken:"",showSuggestion:!1,selectedItems:[],allTagStore:[],queryContent:"",devToPageCount:1,loading:!1}},components:{Resource:function(){return o.e(97).then(o.bind(null,744))}},mounted:function(){this.$root.componentIsLoading=!1,this.alterSearch(),this.$root.showAddButton=!1,this.$root.resourcesSearchComponent=this},methods:{selectTag:function(t){this.showSuggestion=!0,0==this.searchQuery.length&&(this.searchQuery=[]),this.searchQuery=t.name,this.showSuggestion=!1},AddItemsToResources:function(){var t=this,e="";"devto"==this.$root.resourceSearchType&&(e="devto_article"),"youtube"==this.$root.resourceSearchType&&(e="youtube_video"),this.loading=!0,axios.post("/add-items-to-resource",{resource_id:this.$root.selectedResource.resource_id,type:e,items:this.selectedItems}).then((function(e){200==e.status&&(t.loading=!1,t.$root.forcereloadResource=!0,t.goBack())})).catch((function(e){t.loading=!1}))},searchTags:function(t){var e=this;"Backspace"!=t.key?13==t.keyCode?(this.showSuggestion=!1,this.queryContent="",this.devToTags=this.allTagStore):1==t.key.length&&(this.queryContent+=t.key,this.showSuggestion=!0):this.queryContent=this.queryContent.slice(0,-1);var o=this.allTagStore.filter((function(t){return t.name.toLowerCase().includes(e.queryContent.toLowerCase())}));this.devToTags=o},goBack:function(){window.history.length>1?this.$router.go(-1):this.$router.push("/")},loadNextSet:function(t){t&&this.searchResult.length>0&&this.loadNextResult()},fetchDevToTags:function(){var t=this;axios.get("/devto-tags").then((function(e){200==e.status&&(t.devToTags=e.data.tags,t.allTagStore=e.data.tags)})).catch((function(t){}))},loadNextResult:function(){var t=this;if(!this.loadingNext&&(this.loadingNext=!0,"youtube"==this.$root.resourceSearchType&&axios.get("/search-youtube/".concat(this.searchQuery,"/").concat(this.nextPageToken)).then((function(e){if(200==e.status){var o=e.data.result;t.nextPageToken=e.data.nextPageToken;var s=[];o.forEach((function(t){var e={content:t,type:"youtube_video"};s.push(e)})),t.searchResult=t.searchResult.concat(s),t.loadingNext=!1}})).catch((function(e){t.loadingNext=!1})),"devto"==this.$root.resourceSearchType)){if(""==this.searchQuery)return;var e=this.searchQuery.toLowerCase().split(" ");this.devToPageCount++,axios.get("/search-devto/".concat(JSON.stringify(e),"/").concat(this.devToPageCount)).then((function(e){if(200==e.status){var o=e.data.articles,s=[];o.forEach((function(t){var e={content:t,type:"devto_article"};s.push(e)})),t.searchResult=t.searchResult.concat(s),t.loadingNext=!1}})).catch((function(e){t.loadingNext=!1}))}},alterSearch:function(){this.placeholder="Search "+this.$root.resourceSearchType,"youtube"!=this.$root.resourceSearchType&&"devto"!=this.$root.resourceSearchType||(this.searchQuery=this.$root.selectedResource.name,this.searchSite())},searchSite:function(){var t=this;if(this.searchResult=[],this.loadingSearch=!0,"youtube"==this.$root.resourceSearchType&&axios.get("/search-youtube/".concat(this.searchQuery)).then((function(e){if(200==e.status){var o=e.data.result;t.nextPageToken=e.data.nextPageToken;var s=[];o.forEach((function(t){var e={content:t,type:"youtube_video"};s.push(e)})),t.searchResult=s,t.loadingSearch=!1}})).catch((function(e){t.loadingSearch=!1})),"devto"==this.$root.resourceSearchType){if(""==this.searchQuery)return;var e=this.searchQuery.toLowerCase().split(" ");this.devToPageCount=1,axios.get("/search-devto/".concat(JSON.stringify(e))).then((function(e){if(200==e.status){var o=e.data.articles,s=[];o.forEach((function(t){var e={content:t,type:"devto_article"};s.push(e)})),t.searchResult=s,t.loadingSearch=!1}})).catch((function(e){t.loadingSearch=!1}))}"udemy"==this.$root.resourceSearchType&&"udemy"==this.$root.resourceSearchType&&axios.get("/search-udemy/".concat(this.searchQuery)).then((function(e){200==e.status&&(console.log(e.data),t.loadingSearch=!1)})).catch((function(e){t.loadingSearch=!1}))}}},a=o(4),r=Object(a.a)(s,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticStyle:{background:"transparent"}},[o("div",{staticClass:"col-12 py-0 my-0 "},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 px-1 py-2  fixed-top d-flex flex-row flex-wrap",staticStyle:{position:"sticky",background:"white",top:"0%","align-items":"center"}},[o("div",{staticClass:"col-12 py-0 px-0 d-flex flex-row"},[o("div",{staticClass:" mr-1 py-0"},[o("v-btn",{attrs:{icon:""},on:{click:function(e){return e.stopPropagation(),t.goBack(e)}}},[o("v-icon",[t._v("las la-arrow-left")])],1)],1),t._v(" "),o("div",{staticClass:" py-0 text-center",staticStyle:{width:"100%"}},["devto"!=this.$root.resourceSearchType?[o("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],staticClass:"py-2 px-3",staticStyle:{width:"100%",heigth:"100%","font-size":"13px",background:"whitesmoke","border-radius":"13px","font-family":"BodyFont"},attrs:{placeholder:t.placeholder,type:"search",autofocus:""},domProps:{value:t.searchQuery},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchSite()},input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}})]:[o("div",{staticClass:"col-12 px-0 py-0",staticStyle:{height:"50px"}},[o("v-text-field",{staticClass:"mb-0",staticStyle:{"font-size":"13px"},attrs:{placeholder:"Search DevTo",chips:"",outlined:"",dense:"",counter:"30",color:"#3C87CD"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchSite()}},model:{value:t.searchQuery,callback:function(e){t.searchQuery=e},expression:"searchQuery"}}),t._v(" "),t.showSuggestion?[o("v-card",{staticClass:"d-flex flex-column px-1 py-2",staticStyle:{position:"absolute","border-radius":"0px",top:"95%",width:"100%","max-height":"250px","z-index":"99999999999999",left:"0px",height:"auto","overflow-y":"auto"}},t._l(t.devToTags,(function(e){return o("v-card",{key:e.id,staticClass:"px-1 py-2 d-flex flex-row",staticStyle:{"border-bottom":"1px solid #c5c5c5","align-items":"center"},attrs:{tile:"",flat:""},on:{click:function(o){return t.selectTag(e)}}},[o("div",{staticStyle:{"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}},[o("span",{staticClass:"mr-1",staticStyle:{"font-size":"13px","font-family":"BodyFont"}},[t._v(t._s(e.name))])])])})),1)]:t._e()],2)]],2),t._v(" "),o("div",{staticClass:" py-0 ml-1 text-right"},[o("v-btn",{attrs:{icon:"",loading:t.loadingSearch},on:{click:t.searchSite}},[o("v-icon",[t._v("las la-search")])],1)],1)]),t._v(" "),o("div",{staticClass:"col-12  py-1 d-flex flex-row px-0 mt-1",staticStyle:{"align-items":"center","justify-content":"center"}},["playlist"==t.that.$root.selectedResource.type?[o("div",{staticClass:"mt-1 text-center",staticStyle:{"font-family":"BodyFont","font-size":"13px",color:"grey"}},[t._v('Add videos to "'+t._s(t.that.$root.selectedResource.name)+'" playlist')])]:[o("div",{staticClass:"mt-1 text-center",staticStyle:{"font-family":"BodyFont","font-size":"13px",color:"grey"}},[t._v('Add articles to "'+t._s(t.that.$root.selectedResource.name)+'" resource')])],t._v(" "),o("v-btn",{staticClass:"ml-2",staticStyle:{"font-size":"11px","text-transform":"none","font-weight":"bolder",color:"white","font-family":"BodyFont"},attrs:{rounded:"",small:"",loading:t.loading,disabled:0==t.selectedItems.length,color:"#3C87CD"},on:{click:function(e){return t.AddItemsToResources()}}},[t._v("Add ")])],2)]),t._v(" "),o("div",{staticClass:"col-12 py-0 my-0 px-1 px-md-2",staticStyle:{background:"transparent","font-family":"BodyFont"}},[o("resource",{attrs:{show_add_icon:!0,contents:t.searchResult}}),t._v(" "),o("div",{staticClass:"text-center col-lg-12"},[t.loadingNext?o("v-progress-circular",{attrs:{indeterminate:"",color:"#3C87CD"}}):t._e(),t._v(" "),o("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.loadNextSet,expression:"loadNextSet"}]})],1)],1)])])])}),[],!1,null,"55d932f0",null);e.default=r.exports}}]);